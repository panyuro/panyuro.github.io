---
title: 数据库三大范式
date: 2022-05-24 22:13:18
tags: 数据库
categories: 数据库
---

## 第一范式(确保每列保持原子性)
数据库表中的所有字段值都是不可分解的原子值。比如下面场景：

- 系统中需要用到“地址”这个属性，直接将“地址”属性设计成一个数据库表的字段就行。

  | 学号 | 地址               |
  | ---- | ------------------ |
  | 001  | 陕西省西安市长安区 |

- 如果系统经常会访问“地址”属性中的“城市”部分，那么就需要将“地址”这个属性重新拆分为省份、城市、详细地址等多个部分进行存储，这样在对地址中某一部分操作的时候将非常方便。更正后：

  | 学号 | 省份   | 城市   | 区县   |
  | ---- | ------ | ------ | ------ |
  | 001  | 陕西省 | 西安市 | 长安区 |

## 第二范式(确保表中的每列都和主键相关)
第二范式需要确保数据库表中的每一列都和主键相关，而不能只与主键的某一部分相关（主要针对联合主键而言）。比如：

- 订单信息表：联合主键为（订单编号，商品编号）

  | 订单编号 | 商品编号 | 商品数量 | 商品名称 | 商品价格 | 订单创建时间 |
  | -------- | -------- | -------- | -------- | -------- | ------------ |
  | 001      | 88888    | 2        | Iphone13 | 10000元  | 2022.1.10    |

- 在该表中，商品名称、单位、商品价格等信息不与该表的主键相关，而仅仅是与商品编号相关。就需要单独存在另一张表里。而不应该在订单信息表里。更正后：

  | 订单编号 | 商品编号 | 订单创建时间 |
  | -------- | -------- | ------------ |
  | 001      | 001      | 2022.1.10    |

  | 商品编号 | 商品名称 | 商品价格 |
  | -------- | -------- | -------- |
  | 001      | Iphone13 | 10000元  |

## 第三范式(确保每列都和主键列直接相关,而不是间接相关)
第三范式需要确保数据表中的每一列数据都和主键直接相关，而不能间接相关。比如：
- 学生信息表：主键：学号

  | 学号 | 姓名 | 年龄 | 所在学院 | 学院联系方式 | 学院地点 |
  | ---- | ---- | ---- | -------- | ------------ | -------- |
  | 001  | 张三 | 21   | 美术学院 | 88888888     | 北京     |

- 存在依赖传递：学号 → 学院 → (学院地点，学院联系方式)，即只有学院是和主键直接相关的。应拆成：学生信息表和学院信息表。更正后：

  | 学号 | 姓名 | 年龄 | 所在学院 |
  | ---- | ---- | ---- | -------- |
  | 001  | 张三 | 21   | 美术学院 |

  | 所在学院 | 学院联系方式 | 学院地点 |
  | -------- | ------------ | -------- |
  | 美术学院 | 88888888     | 北京     |

  

